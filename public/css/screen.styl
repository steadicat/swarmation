@import nib
global-reset()

@import "spacing"

shadow = rgba(0,36,62,0.2)

body
  font 14px/20px 'Source Sans Pro', sans-serif
  color #024
  background #abbdd1

// text
a
  text-decoration none
  font-weight bold
.b
  font-weight bold
.countdown
  font-size: 80px
  line-height: 75px
.huge
  font-size 60px
  line-height 65px
.larger
  font-size 36px
  line-height 35px
.large
  font-size 24px
  line-height 25px
.medium
  font-size 16px
  line-height 20px

// layout
.center
  text-align center
.centered
  margin 0 auto
.abs
  position absolute
.rel
  position relative
.col
  display inline-block
  vertical-align: top

// style
.rounded
  border-radius 3px
.border
  border 1px solid #ddd
.top-border
  border-top 1px solid #ddd
  margin-top -1px
.dark-border
  border 1px solid #798796
.shadow
  box-shadow shadow 2px 2px 0px
.text-shadow
  text-shadow shadow 1px 1px 0px

// colors
a
  color #fff
.white
  color #fff
.light
  opacity 0.7
.dim
  opacity 0.5

// transitions
.movement
  transition left 0.1s ease-in-out, top 0.1s ease-in-out
.fade
  transition left 0.3s ease-in-out, top 0.3s ease-in-out, opacity 1s ease-in-out

// one-offs
.container
  @extend .centered
  @extend .rel
  width 984px
.header
  height 140px
  background url(../images/logo.png) center center no-repeat
  text-indent -9999px
.info
  @extend .abs
  @extend .center
  @extend .border
  background #eee
  width 119px
  height 599px
  top 10px
  left 10px
.formation-name
  font-size 20px
.formation-image
  @extend .col
  @extend .rel
  height: 100px
.arrow-image
  background url(../images/arrow-keys-dark.svg) no-repeat center center
  display inline-block
  width 37px
  height 24px
  position relative
  top 2px
  text-indent -10000px
  overflow hidden
.board-container
  @extend .rel
  @extend .dark-border
  @extend .shadow
  background #eee
  border-radius 12px
.board
  @extend .rel
  width 961px
  height 601px
  background url(../images/cell.png)
.message
  @extend .larger
  @extend .b
  @extend .center
  @extend .abs
  @extend .white
  padding 200px 260px
  box-sizing border-box
  width 100%
  height 100%
  top 0
  left 0
  background-color shadow
  border-radius 12px
.tooltip
  @extend .rounded
  @extend .abs
  @extend .center
  @extend .col
  @extend .shadow
  @extend .dark-border
  background #fff
  &:after
    background url(../images/tip.png) no-repeat center center
    content " "
    width 24px
    height 10px
    position absolute
    bottom -10px
    left 50%
    margin-left -12px
.welcome
  @extend .tooltip

.player
  @extend .movement
  @extend .abs
  width 10px
  height 10px
  box-shadow inset -1px -1px 0px shadow, inset 1px 1px 0 rgba(255,255,255,0.3)
  background #aaa
  &.self
    background #6dd
  &.idle
    opacity 0.5
  &.flash
    background #f85
  &.active
    box-shadow inset -1px -1px 0px shadow, inset 1px 1px 0 rgba(255,255,255,0.4)
    background #fb3
  &.locked-in
    box-shadow inset -1px -1px 0px #000, inset 1px 1px 0 rgba(255,255,255,0.25)
    background #444
    animation bounceIn .75s cubic-bezier(0.215, 0.610, 0.355, 1.000)
.ref
  @extend .abs
  @extend .player.active
  width 15px
  height 15px

.score
  @extend .b
  transition 0.6s all ease-in
  transform scale(0.1, 0.1)
  transform-origin 50% 100%
  font-size 300px
  width 400px
  pointer-events none
  &.positive
    color #6dd
  &.negative
    color #f85
  &.scale
    transform scale(1, 1)
    opacity 0

.megaphone
  @extend .rounded
  @extend .abs
  @extend .center
  @extend .shadow
  @extend .medium
  top 105px
  width 600px
  left 190px
  background lighten(#fb3, 50%)
  a
    color inherit
.send
  @extend .col
  @extend .rel
  top: 1px
  left: 3px
  width: 52px
  height: 20px

.footer
  @extend .white
  @extend .center
  @extend .text-shadow
.instructions
  display flex
  justify-content center
  align-items center
  .text
    margin 0 16px 0 6px
.keyboard-key
  height 24px
  &.small
    height 20px

.off
  display none



@keyframes bounceIn 
  0%
    transform scale3d(.3, .3, .3)
  20% 
    transform scale3d(1.2, 1.2, 1.2)
  40% 
    transform scale3d(.85, .85, .85)
  60% 
    transform scale3d(1.08, 1.08, 1.08)
  80% 
    transform scale3d(.95, .95, .95)
  100% 
    transform scale3d(1, 1, 1)

